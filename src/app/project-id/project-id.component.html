<mat-horizontal-stepper [linear]="isLinear" #stepper id="stepper">
    <mat-step>
        <ng-template matStepLabel>{{'project_id.upload_label' | translate}}</ng-template>
        <div style="margin-top: 1%">{{'project_id.upload_info_text1' | translate}}
            <br />
            {{'project_id.upload_info_text2' | translate}}
            <br />
            {{'project_id.upload_info_text3' | translate}}</div>
        <div style="margin-top: 1%">
            <mat-form-field appearance="fill">
                <ngx-mat-file-input
                    #fileInput
                    [multiple]="multiple"
                    [formControl]="csvUpload"
                    [placeholder]="placeholder"
                    [accept]="accept"
                    ></ngx-mat-file-input>
            </mat-form-field>
            <p><span id="error" *ngIf="step == 0 && file != undefined" style="color: red;">{{'project_id.upload_error' | translate}}</span></p>
        </div>
    </mat-step>
    <mat-step #stepTwo>
        <ng-template matStepLabel>{{'project_id.generate_id_label' | translate}}</ng-template>
        <div class="float-container">
            <div class="float-table">
                <div><project-id-table *ngIf="step == 1" [csvRecords]="csvRecords"></project-id-table></div>
            </div>
            <div class="float-content">
                <div>
                <mat-form-field style="width: 245px;">
                    <mat-label>{{'project_id.id_type_label' | translate}}</mat-label>
                    <mat-select #select (selectionChange)="dataModel = $event.value">
                        <mat-option *ngFor="let idType of patientListService.getNewIdType([this.idType])" [value]="idType">
                            {{idType}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                </div>
                <div>
                <button id="back" mat-button (click)="backToFirst()">{{'button_stepper_back' | translate}}</button>
                <button
                    id="generateId"
                    mat-button
                    (click)="generateNewIds(dataModel)"
                    [disabled]="dataModel == ''">
                    {{'button_stepper_generate_ids' | translate}}
                </button>
                </div>
            </div>
        </div>
    </mat-step>
    <mat-step #stepThree>
        <ng-template matStepLabel>{{'project_id.download_label' | translate}}</ng-template>
        <div class="float-container">
            <div class="float-table">
                <div><project-id-table *ngIf="step == 2" [csvRecords]="csvRecords"></project-id-table></div>
            </div>
            <div class="float-content">
                <div>
                <button id="back" mat-button (click)="backToSecond()">{{'button_stepper_back' | translate}}</button>
                <button
                id="downloadFile"
                mat-button
                (click)="downloadCSV()">
                {{'button_stepper_download_csv' | translate}}
            </button>
            </div>
            </div>
        </div>
    </mat-step>
</mat-horizontal-stepper>
