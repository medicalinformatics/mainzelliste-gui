<h1 mat-dialog-title>{{'newIdDialog.mat_title' | translate}}</h1>
<form #generateId="ngForm">
<div mat-dialog-content>
  <br />
  <h4 style="font-weight: 100; text-align: justify">
    {{'newIdDialog.text_1' | translate}}
  </h4>
  <mat-form-field appearance="fill">
    <mat-label>{{'newIdDialog.id_types' | translate}}</mat-label>
    <mat-select [(ngModel)]="this.resultIdType" name="idType" required="true" [disabled]="inProgress">
      <mat-option *ngFor="let idType of this.getIdTypes()" [value]="idType">
        {{idType}}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <ng-container  *ngIf="this.getExternalIds().length > 0">
    <h4 style="font-weight: 100; text-align: justify">
      {{'newIdDialog.text_4' | translate}}
    </h4>
    <mat-form-field appearance="fill">
      <mat-label>External Ids:</mat-label>
      <mat-select [(ngModel)]="this.externalId" name="externalId" [disabled]="inProgress">
        <mat-option *ngFor="let id of this.getExternalIds()" [value]="id">
          {{id.idType}}: {{id.idString}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </ng-container>
  <!-- id insertion for associated external ids -->
  <ng-container  *ngIf="this.isWriteableExternalAssociatedId(this.resultIdType)">
    <h4 style="font-weight: 100; text-align: justify">{{'newIdDialog.text_5' | translate}}</h4>
    <mat-form-field appearance="fill">
      <mat-label>{{this.resultIdType}}</mat-label>
      <input matInput style="width: 90%;"
        [(ngModel)]="this.resultIdValue"
        [name]="this.resultIdType"
        required="true"/>
    </mat-form-field>
  </ng-container>
</div>
<div mat-dialog-actions style="margin-top: 10%;">
  <button mat-raised-button class="submitBreak" (click)="onCancel()">
    {{'button_cancel' | translate}}
  </button>
  <button
    mat-raised-button
    class="submit"
    type="submit"
    (click)="onSave()"
    [disabled]="!generateId.form.valid || inProgress"
  >
    {{'button_save_new_id' | translate}}
    <mat-icon *ngIf="inProgress"><mat-spinner diameter="20"></mat-spinner></mat-icon>
  </button>
</div>
</form>
