<h1 mat-dialog-title>Similar Patients</h1>
<div mat-dialog-content>
    <div *ngIf="resultsFound">
        <h4> {{'similar_patient_dialog_title1' | translate}}</h4>
        <div>{{'similar_patient_dialog_text1_1' | translate}}</div>
        <div>{{'similar_patient_dialog_text1_2' | translate}}</div>
        <div>{{'similar_patient_dialog_text1_3' | translate}}</div>
        <table id="patientlist" mat-table [dataSource]="[match]">
            <!-- Field Columns -->
            <ng-container *ngFor="let field of fields" matColumnDef="{{field.name}}">
                <th mat-header-cell *matHeaderCellDef>{{field.i18n | translate}}</th>
                <td mat-cell *matCellDef="let match">
                    <span *ngIf="isDate(field.type)">
                        {{match.fields[field.name] | date:'dd.MM.yyyy'}}
                    </span>
                    <span *ngIf="!isDate(field.type)">
                        {{match.fields[field.name]}}
                    </span>
                </td>
            </ng-container>

            <!-- Header Row -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <!-- Data Row -->
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            <!-- Action Column -->
            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let match">
                    <button mat-button (click)="goToPatientIdCard(match)">
                        <mat-icon>fact_check</mat-icon>
                    </button>
                </td>
            </ng-container>

            <!-- Similarity Column -->
            <ng-container matColumnDef="similarity">
                <th mat-header-cell *matHeaderCellDef> Similarity Score</th>
                <td mat-cell [ngStyle]="{'background-color': getColor(similarityScore)}" *matCellDef="let match">
                    {{similarityScore | number:'1.2-2' }}
                </td>
            </ng-container>

        </table>
    </div>
    <div *ngIf="!resultsFound">
        <h4>{{'similar_patient_dialog_title2' | translate}}</h4>
        <div>{{'similar_patient_dialog_text2' | translate}}</div>
    </div>

</div>
<div mat-dialog-actions>
    <button mat-raised-button class="submit" (click)="cancel()">{{'button_continue' | translate}}</button>
</div>